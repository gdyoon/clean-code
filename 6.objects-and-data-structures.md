# 6. 객체와 자료 구조

많은 프로그래머들은 클래스를 작성할 때, 당연하다는 듯이 get/set 메서드를 통해 맴버 변수\(private\) 을 외부로 노출시킨다.

형식에 치우쳐서 모든 맴버 변수\(private\)에 get/set 메서드를 작성하지 않는 것이 좋다.  
근본적인 해결책은 클래스를 사용하는 사람이 내부 구현을 모른채 핵심을 조작할 수 있어야 의미있는 클래스이다.

아래 인터페이스를 보면, 특정 정보 읽어 반환하는 사실을 알 수 있다. 이렇게 인터페이스를 통해 메서드를 제공하면, 내부 구현을 확실하게 숨길 수 있다.

```text
// 해당 인터페이스는 특정 변수 값을 읽어 반환하는 사실을 유추할 수 있다.
public interface Vehicle {
    double getFuelTankCapacityInGallons();
    double getGallonsOfGasoline();
}
   
// 아래 인터페이스는 위보다 추상화 수준이 더높아서 유추하기 어렵다.
public interface Vehicle {
    double getPercentFuelRemaining();
}
```

개발자는 클래스\(객체\)가 표현하고자 하는 것이 무엇인지 심도 있게 고민해야 한다. 단순히 get/set 메서드를 작성하는 것은 바람직하지 않다.

또한, 모든 것을 클래스\(객체 지향\)로 나타내는 것이 좋은건 아니다. 객체 지향 설계 시, 인터페이스를 이용하게 되는데 이때 해당 인터페이스에 새로운 함수를 추가하면, 모든 구현 클래스에 해당 함수를 추가해주어야 한다. _때에 따라서는 절차 지향 코드가 적합할 때도 있다._

_\* 디미터 법칙 : 동작시키고자 하는 모듈의 내부 구현을 몰라야 한다. 즉, 내부 구조를 공개하면 안된다._

아래 코드는 각 함수가 반환하는 값이 객체면 디미터 법칙을 위반한 대표적인 사례이지만, 자료 구조를 반환하는 값이라면 디미터 법칙을 위반하지 않는다. \(객체라면 내부 구조를 감춰야 하기 때문\)

```text
final String outputDir = ctxt.getOptions().getScratchDir().getAbsolutePath();
```

하지만, 반환 값이 자료구조/객체가 뒤섞여 있으면 이는 설계가 잘못된 것이라 할 수 있다. \(잡종구조\)

이에 _디미터 법칙_을 위반하지 않은 outputDir 은 어떻게 얻는게 최선일까? 아래 코드를 살펴보자.  
자신이 알 필요 없는 함수는 내부 구현으로 숨기고 여러 객체를 탐색하는 일이 없도록 한다.  
특히, 파일명을 인자로 전달하여 함수 내부에서 구질구질하게 파일의 경로를 생성하지 않는 것이 중요하다.

```text
BufferedOutputStream bos = ctxt.createScratchFileStream(classFileName);
```

마지막으로 DTO\(Data Transfer Object\)에 대해서 이야기 한다. DTO는 함수가 없는 클래스로 DB 통신에 사용하는 객체다. 전달하고자 하는 것이 무엇인지 명확해지므로 코드 파악이 용이해진다. 

이에 추가적으로, scan/save/find 와 같은 DB 레코드를 다루는 함수를 추가하게 되는데,  
여기서 주의할 점은 절대 이외의 비즈니스 로직을 집어넣어서는 안된다는 것이다.

